<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<title>Employee List</title>
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body style="font-size: 14px;">
<div class="container mt-5">
	<h1 class="text-center mb-4">Employee List</h1>

	<!-- Center the table with mx-auto -->
	<table class="table table-bordered table-striped mx-auto">
		<thead class="table-dark">
		<tr>
			<th>Id</th>
			<th>Name</th>
			<th>Age</th>
			<th>Address 1</th>
			<th>Address 2</th>
			<th>City</th>
			<th>State</th>
			<th>Country</th>
			<th>Pincode</th>
			<th>Project</th>
			<th>Manager Id</th>
			<th>Date</th>
			<th>Login Time</th>
			<th>Logout Time</th>
			<th>Status</th>
			<th>Approve</th>
			<th>Reject</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="emp : ${emp}">
			<td th:text="${emp.id}"></td>
			<td th:text="${emp.name}"></td>
			<td th:text="${emp.age}"></td>
			<td th:text="${emp.addr1}"></td>
			<td th:text="${emp.addr2}"></td>
			<td th:text="${emp.city}"></td>
			<td th:text="${emp.state}"></td>
			<td th:text="${emp.country}"></td>
			<td th:text="${emp.pincode}"></td>
			<td th:text="${emp.project}"></td>
			<td th:text="${emp.managerId}"></td>
			<td th:text="${emp.date}"></td>
			<td th:text="${emp.loginTime}"></td>
			<td th:text="${emp.logoutTime}"></td>
			<td th:text="${emp.status}"></td>
			<td>
				<!-- Check if the status is Pending before showing the buttons -->
				<a th:if="${emp.status == 'Pending'}" th:href="@{/approve/{id}(id=${emp.id})}" class="btn btn-success btn-sm">Approve</a>
				<span th:if="${emp.status != 'Pending'}" class="text-muted">N/A</span>
			</td>
			<td>
				<a th:if="${emp.status == 'Pending'}" th:href="@{/reject/{id}(id=${emp.id})}" class="btn btn-danger btn-sm">Reject</a>
				<span th:if="${emp.status != 'Pending'}" class="text-muted">N/A</span>
			</td>
		</tr>
		</tbody>
	</table>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-mrcC5VBEnnR0H/+0F/hztr+PoMjf11ddP5uklZNc+zKePW3Cf1ogcU5I11WXw5B8" crossorigin="anonymous"></script>
</body>

</html>
